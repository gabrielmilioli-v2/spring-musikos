<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd">

    <changeSet id="insert-posicao-banda" author="gabriel.milioli">
        <validCheckSum>ANY</validCheckSum>
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="posicao_banda"/>
        </preConditions>
        <sql>
            INSERT INTO posicao_banda (id, descricao)
            SELECT x.id, x.descricao
            FROM ( values
            (1, 'Outro'),
            (2, 'Guitarra'),
            (3, 'Baixo'),
            (4, 'Bateria'),
            (5, 'Vocal')
            ) as x (id, descricao)
            WHERE NOT EXISTS (SELECT 1 FROM posicao_banda pb WHERE pb.id = x.id)
        </sql>
    </changeSet>

</databaseChangeLog>